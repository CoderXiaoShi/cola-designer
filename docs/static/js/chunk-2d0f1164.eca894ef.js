(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f1164"],{"9eac":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0,model:e.searchForm,size:"mini"}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.showForm(!1,null)}}},[e._v("新增")])],1),a("el-form-item",{attrs:{label:"功能名称"}},[a("el-input",{attrs:{placeholder:"请输入字典组"},model:{value:e.searchForm.accessName,callback:function(t){e.$set(e.searchForm,"accessName",t)},expression:"searchForm.accessName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.loadData}},[e._v("查询")])],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"",size:"mini","row-key":"id",lazy:"",load:e.loadChildren}},[a("el-table-column",{attrs:{prop:"accessName",label:"功能名称",align:"center"}}),a("el-table-column",{attrs:{prop:"accessUrl",label:"url",align:"center"}}),a("el-table-column",{attrs:{prop:"component",label:"组件",align:"center"}}),a("el-table-column",{attrs:{prop:"menuLevel",label:"菜单等级",align:"center"}}),a("el-table-column",{attrs:{prop:"menuIcon",label:"图标",align:"center"}}),a("el-table-column",{attrs:{prop:"sortNum",label:"排序",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.showForm(!0,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.delRow(t.row)}}},[e._v("删除")])]}}])})],1),a("SysMenuForm",{ref:"SysMenuForm",on:{refreshTable:e.loadData}})],1)},l=[],n=a("b775"),o=a("47e3");function s(e){return Object(n["a"])({url:o["a"]+"/sysMenu/listMenuByRole",method:"get",params:e})}function m(e){return Object(n["a"])({url:o["a"]+"/sysMenu/getChildren",method:"get",params:e})}function c(e){return Object(n["a"])({url:o["a"]+"/sysMenu/saveOrUpdate",method:"post",data:e})}function i(e){return Object(n["a"])({url:o["a"]+"/sysMenu/delete",method:"delete",params:e})}var u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.formData.id?"编辑":"添加",visible:e.modelShow},on:{"update:visible":function(t){e.modelShow=t}}},[a("el-form",{ref:"modelForm",attrs:{model:e.formData,"label-width":"120px",rules:e.formRules}},[a("el-form-item",{attrs:{label:"功能名称",prop:"accessName"}},[a("el-input",{model:{value:e.formData.accessName,callback:function(t){e.$set(e.formData,"accessName",t)},expression:"formData.accessName"}})],1),a("el-form-item",{attrs:{label:"上级"}},[a("el-input",{model:{value:e.formData.parentId,callback:function(t){e.$set(e.formData,"parentId",t)},expression:"formData.parentId"}})],1),a("el-form-item",{attrs:{label:"url"}},[a("el-input",{model:{value:e.formData.accessUrl,callback:function(t){e.$set(e.formData,"accessUrl",t)},expression:"formData.accessUrl"}})],1),a("el-form-item",{attrs:{label:"菜单类型",prop:"menuLevel"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.menuType,callback:function(t){e.menuType=t},expression:"menuType"}},[a("el-radio",{attrs:{label:1,border:""}},[e._v("菜单")]),a("el-radio",{attrs:{label:0,border:""}},[e._v("按钮")])],1)],1),a("el-form-item",{attrs:{label:"图标",prop:"menuIcon"}},[a("el-input",{model:{value:e.formData.menuIcon,callback:function(t){e.$set(e.formData,"menuIcon",t)},expression:"formData.menuIcon"}})],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input-number",{model:{value:e.formData.sortNum,callback:function(t){e.$set(e.formData,"sortNum",t)},expression:"formData.sortNum"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){e.modelShow=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("确 定")])],1)],1)],1)},f=[],d={name:"SysMenuForm",data:function(){return{modelShow:!1,formData:{},formRules:{accessName:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],menuLevel:[{required:!0,message:"请选择菜单类型",trigger:"blur"}]},menuType:null}},methods:{opened:function(e,t){this.formData=e?t:{},e&&(this.menuType=0===t.menuLevel?0:1),this.modelShow=!0},submitForm:function(){var e=this;this.$refs["modelForm"].validate((function(t){t&&c(e.formData).then((function(t){e.modelShow=!1,e.$emit("refreshTable")}))}))}}},p=d,b=a("2877"),h=Object(b["a"])(p,u,f,!1,null,"6ae98216",null),v=h.exports,y={name:"SysUser",components:{SysMenuForm:v},data:function(){return{searchForm:{accessName:""},tableData:[]}},created:function(){this.loadData()},methods:{loadChildren:function(e,t,a){m({parentId:e.id}).then((function(e){a(e.data)}))},loadData:function(){var e=this;this.tableData=[],s(this.searchForm).then((function(t){e.tableData=t.data}))},showForm:function(e,t){var a={};e&&(a=JSON.parse(JSON.stringify(t))),this.$refs.SysMenuForm.opened(e,a)},delRow:function(e){var t=this;this.$confirm("此操作将永久删除该内容, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){i({id:e.id}).then((function(e){t.$message.success("删除成功!"),t.loadData()}))})).catch((function(){t.$message.info("已取消删除")}))}}},D=y,w=Object(b["a"])(D,r,l,!1,null,null,null);t["default"]=w.exports}}]);